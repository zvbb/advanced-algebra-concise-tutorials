\documentclass{article}
\usepackage{mathtools} 
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{mathrsfs}


% 定义新的带灰色背景的说明环境 zremark
\newmdtheoremenv[
  backgroundcolor=gray!10,
  % 边框与背景一致，边框线会消失
  linecolor=gray!10
]{zremark}{注释}

% 通用矩阵命令: \flexmatrix{矩阵名}{元素符号}{行数}{列数}
\newcommand{\flexmatrix}[4]{
  \[
  #1 = \begin{pmatrix}
    #2_{11}     & #2_{12}     & \cdots & #2_{1#4}   \\
    #2_{21}     & #2_{22}     & \cdots & #2_{2#4}   \\
    \vdots      & \vdots      & \ddots & \vdots     \\
    #2_{#31}    & #2_{#32}    & \cdots & #2_{#3#4}
  \end{pmatrix}
  \]
}

% 简化版命令（默认矩阵名为A，元素符号为a）: \quickmatrix{行数}{列数}
\newcommand{\quickmatrix}[2]{\flexmatrix{A}{a}{#1}{#2}}


\begin{document}
\title{4.4注释}
\author{张志聪}
\maketitle

\begin{zremark}
  两个$n$阶矩阵$A, B$相似，我们有
  \begin{align*}
    det(A) = det(B) \\
    Trace(A) = Trace(B)
  \end{align*}
\end{zremark}

\textbf{证明：}

\begin{itemize}
  \item $det(A) = det(B)$

        因为$A, B$相似，那么存在$n$阶可逆矩阵$T$，使得
        \begin{align*}
          B = T^{-1}AT
        \end{align*}
        于是
        \begin{align*}
          |B| & = |T^{-1}AT|       \\
              & = |T^{-1}||A||T|   \\
              & = |A| |T| |T^{-1}| \\
              & = |A| |T T^{-1}|   \\
              & = |A|
        \end{align*}

  \item $Trace(A) = Trace(B)$

        因为相似举证，有着相同的特征多项式，即
        \begin{align*}
          |\lambda E - B| = |\lambda - A|
        \end{align*}
        于是，由命题4.2，我们有
        \begin{align*}
          f(\lambda) = |\lambda - A| = \lambda^n - Trace(A)\lambda^{n - 1} + \cdots + (-1)^n |A| \\
          g(\lambda) = |\lambda - B| = \lambda^n - Trace(B)\lambda^{n - 1} + \cdots + (-1)^n |B|
        \end{align*}
        因为
        \begin{align*}
          f(\lambda) = g(\lambda)
        \end{align*}
        于是，我们可以任意代入$l = n + 1$个不同的数$x_1, x_2, \cdots, x_l$，使得
        \begin{align*}
          f(x_i) = g(x_i)
        \end{align*}
        于是利用第一章$\S 2$命题2.2的推论2可知，$f(\lambda), g(\lambda)$多项式的系数相等，
        于是可得
        \begin{align*}
          Trace(A) = Trace(B)
        \end{align*}
\end{itemize}

\begin{zremark}
  例4.4 的另一种证明方式。
\end{zremark}

\textbf{证明：}
todo

\begin{zremark}
  代数重数 $\geq$ 几何重数
\end{zremark}

\textbf{证明：}

\begin{zremark}
  $\mathscr{A}$是否可以对角化的充分必要条件：

  \begin{align*}
    \textbf{代数重数之和} = \textbf{几何重数之和}
  \end{align*}
  推论：
  \begin{align*}
    \textbf{每个特征值的代数重数} = \textbf{每个特征值的几何重数}
  \end{align*}

\end{zremark}
\end{document}
