\documentclass{article}
\usepackage{mathtools} 
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, arrows}
\usetikzlibrary{positioning}


% 定义新的带灰色背景的说明环境 zremark
\newmdtheoremenv[
  backgroundcolor=gray!10,
  % 边框与背景一致，边框线会消失
  linecolor=gray!10
]{zremark}{注释}

% 通用矩阵命令: \flexmatrix{矩阵名}{元素符号}{行数}{列数}
\newcommand{\flexmatrix}[4]{
  \[
  #1 = \begin{pmatrix}
    #2_{11}     & #2_{12}     & \cdots & #2_{1#4}   \\
    #2_{21}     & #2_{22}     & \cdots & #2_{2#4}   \\
    \vdots      & \vdots      & \ddots & \vdots     \\
    #2_{#31}    & #2_{#32}    & \cdots & #2_{#3#4}
  \end{pmatrix}
  \]
}

% 简化版命令（默认矩阵名为A，元素符号为a）: \quickmatrix{行数}{列数}
\newcommand{\quickmatrix}[2]{\flexmatrix{A}{a}{#1}{#2}}


\begin{document}
\title{3.1 注释}
\author{张志聪}
\maketitle

\begin{zremark}
  点乘的应用。
\end{zremark}

\begin{zremark}
  向量点乘，两种定义的等价性。
\end{zremark}

利用余弦定理，三角形三个边为$a, b, c$，$\theta$为$a, b$的夹角，我们有
\begin{align*}
  a^2 + b^2 - 2 ab cos \theta = c^2
\end{align*}
应用到向量上，我们有
\begin{align*}
  |a|^2 + |b|^2 - 2a \cdot b & = |a - b|^2                                                                                                  \\
  a \cdot b                  & = \frac{1}{2}(|a|^2 + |b|^2 - |a - b|^2)                                                                     \\
                             & = \frac{1}{2}(a_1^2 + a_2^2 + a_3^2 + b_1^2 + b_2^2 + b_3^2 - (a_1 - b_1)^2 + (a_2 - b_2)^2 + (a_3 - b_3)^2) \\
                             & = a_1 b_1 + a_2 b_2 + a_3 b_3
\end{align*}

\begin{zremark}
  点乘基本性质(ii)等价于
  \begin{itemize}
    \item $(a_1 + a_2) \cdot b = a_1 \cdot b + a_2 \cdot b$
    \item $(ka) \cdot b = k (a \cdot b)$
  \end{itemize}
\end{zremark}

\begin{zremark}
  向量叉乘的应用。
\end{zremark}

\begin{zremark}
  向量叉乘，两种定义的等价性。
\end{zremark}

\begin{zremark}
  二阶行列式的几何解释。
\end{zremark}

\begin{zremark}
  行线性对其他行是否成立。
\end{zremark}

\end{document}