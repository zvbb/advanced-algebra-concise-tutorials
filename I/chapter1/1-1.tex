\documentclass{article}
\usepackage{mathtools} 
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}


% 定义新的带灰色背景的说明环境 zremark
\newmdtheoremenv[
  backgroundcolor=gray!10,
  % 边框与背景一致，边框线会消失
  linecolor=gray!10
]{zremark}{说明}

% 通用矩阵命令: \flexmatrix{矩阵名}{元素符号}{行数}{列数}
\newcommand{\flexmatrix}[4]{
  \[
  #1 = \begin{pmatrix}
    #2_{11}     & #2_{12}     & \cdots & #2_{1#4}   \\
    #2_{21}     & #2_{22}     & \cdots & #2_{2#4}   \\
    \vdots      & \vdots      & \ddots & \vdots     \\
    #2_{#31}    & #2_{#32}    & \cdots & #2_{#3#4}
  \end{pmatrix}
  \]
}

% 简化版命令（默认矩阵名为A，元素符号为a）: \quickmatrix{行数}{列数}
\newcommand{\quickmatrix}[2]{\flexmatrix{A}{a}{#1}{#2}}


\begin{document}
\title{1.1 习题}
\author{张志聪}
\maketitle

\section*{1}

\begin{itemize}
      \item (1)

            是数域，证明略。
      \item (2)

            是数域。

            设$a, b, c, d \in \mathbb{Q}$，于是
            \begin{align*}
                  (a + b\sqrt{3}i) + (c + d\sqrt{3}i) = (a + c) + (b + d)\sqrt{3}i \in \mathbb{Q}(-\sqrt{3}) \\
                  (a + b\sqrt{3}i) (c + d\sqrt{3}i) = (ac - 3bd) + (ac + bd)\sqrt{3}i \in \mathbb{Q}(-\sqrt{3})
            \end{align*}
            当$c + d\sqrt{3}i \neq 0$，即$c^2 + 3d^2 \neq 0$时，有
            \begin{align*}
                  \frac{a + b\sqrt{3}i}{c + d\sqrt{3}i}
                   & = \frac{(a + b\sqrt{3}i)(c - d\sqrt{3}i)}{c^2 + 3d^2}                           \\
                   & = \frac{(ac - 3bd) + (-ad + bc)\sqrt{3}i}{c^2 + 3d^2} \in \mathbb{Q}(-\sqrt{3})
            \end{align*}
            $\mathbb{Q}(-\sqrt{3})$对复数的四则运算封闭，所以它是一个数域。

      \item (3)

            todo

            %   不是数域。

            %   \begin{align}
            %     \mathbb{Q}(\pi) = \{\frac{a_0 + a_1\pi + \cdots + a_n\pi^n}{b_0 + b_1\pi + \cdots + b_m\pi^m}| m,n \in \mathbb{N}; a_i, b_j \in \mathbb{Q}; 1 \leq i \leq n, 1 \leq j \leq m \}
            %   \end{align}

\end{itemize}

\section*{2}

\begin{itemize}
      \item (1)

            既不是单射也不是满射。

      \item (2)

            不是单射，是满射。

      \item (3)
            是单射，不是满射。
\end{itemize}

\section*{3}

\begin{itemize}
      \item (1)

            反证法，假设$f$不是满射，
            那么，存在$y \in S$，没有$x \in S$使得$f(x) = y$，
            即$f(S) \subseteq S \setminus \{y\}$。

            $S$中的元素个数为$n$，$S \setminus \{y\}$的元素个数小于$n$，
            那么，$f$存在多个元素映射到同一个元素，这与$f$是单射矛盾。

      \item (2)

            反证法，假设$f$不是单射。
            那么，存在$a \neq b$使得
            \begin{align*}
                  f(a) = f(b)
            \end{align*}
            从而
            \begin{align*}
                  f(S \setminus \{a\}) = f(S \setminus \{b\}) = f(S)
            \end{align*}
            于是$f(S)$的元素个数小于等于$n - 1$，
            那么，$ S \setminus f(S) \neq \varnothing$，
            设$y \in S \setminus f(S)$，
            则不存在$x \in S$使得$f(x) = b$，这与$f$是满射矛盾。
\end{itemize}

\section*{4}

只证明(1)，另一个证明方式类似。

\begin{itemize}
      \item (1) $A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$。

            $\Rightarrow$

            任意$x \in A \cap (B \cup C)$，则$x \in A$并且
            $x \in (B \cup C)$，所以有以下情况：

            \begin{itemize}
                  \item $x$同时属于$B, C$。

                        那么$x \in (A \cap B)$且$x \in (A \cap C)$，
                        进而$x \in (A \cap B) \cup (A \cap C)$。

                  \item $x \in B$。

                        那么$x \in (A \cap B)$，
                        进而$x \in (A \cap B) \cup (A \cap C)$。

                  \item $x \in C$。

                        同理。

            \end{itemize}
            综上$x \in (A \cap B) \cup (A \cap C)$，
            于是$A \cap (B \cup C) \subseteq (A \cap B) \cup (A \cap C)$


            $\Leftarrow$

            讨论方式类似，不做赘述。

            综上，$A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$。

\end{itemize}

\section*{5}

这是显然的，和图中的表格就没有关系！

\section*{6}

利用习题5进行证明。

习题5已经列出了所有的正有理数构成的集合，
我们以相同的方式排列负有理数序列（需要把$0$放在开头，设为$b_0$）
\begin{align*}
      b_0, b_1, b_2, b_3, \cdots,
\end{align*}
定义映射
\begin{align*}
      g(b_k) = 2k + 1
\end{align*}

综上，我们定义一个函数$h : \mathbb{Q} \to \mathbb{N}+$，
\begin{equation*}
      h(x) = \begin{cases}
            g(x) & \text{if } x \in \mathbb{Q} \setminus A \\
            f(x) & \text{if } x \in A
      \end{cases}
\end{equation*}
即正有理数映射为偶数，负有理数映射为奇数，
易得，函数$h$是单射函数。

\section*{7}

定义集合$A,B$如下
\begin{align*}
      A & : = \{1, 2\}    \\
      B & : = \{a, b, c\}
\end{align*}
定义函数$f: A \to B, g: B \to A$如下
\begin{equation*}
      f(x) = \begin{cases}
            a & \text{if } x = 1 \\
            b & \text{if } x = 2
      \end{cases},
      g(x) = \begin{cases}
            1 & \text{if } x = a \\
            2 & \text{if } x = b \\
            1 & \text{if } x = c
      \end{cases}
\end{equation*}
于是
\begin{align*}
      gf(1) = g(f(1)) = 1 \\
      gf(2) = g(f(2)) = 2
\end{align*}
所以，$gf = id_A$成立。

因为，我们有
\begin{align*}
      fg(c) = f(g(c)) = f(1) = a
\end{align*}
所以$fg \neq id_B$，进而$f$不是可逆映射。

\section*{8}

\begin{itemize}
      \item $K \cap L$是数域。

            反证法，假设$K \cap L$不是数域，
            那么存在$a, b \in K \cap L$，
            使得其四则运算结果不是数域$K \cap L$中的元素。

            因为$K, L$都是数域，且$a, b \in K \cap L$，
            可知$a, b \in K$和$a, b \in L$，
            于是其四则运算结果也是数域$K, L$中的元素，
            进而其四则运算结果是数域$K \cap L$中的元素，
            存在矛盾。

      \item $K \cup L$不一定是数域的举例。

            定义$K,L$如下
            \begin{align*}
                  K : = \mathbb{Q}(\sqrt{2}) \\
                  L : = \mathbb{Q}(\sqrt{3})
            \end{align*}
            于是
            \begin{align*}
                  \sqrt{2} \in K \subseteq K \cup L \\
                  \sqrt{3} \in L \subseteq K \cup L
            \end{align*}
            但
            \begin{align*}
                  \sqrt{2} + \sqrt{3} \notin K \cup L
            \end{align*}
\end{itemize}

\section*{9}

\begin{itemize}
      \item (1.1) $\sum\limits_{i = 1}^n i$。

            这是一个等差数列求和问题，其中
            \begin{align*}
                  a_1 & = 1    \\
                  a_2 & = 2    \\
                      & \vdots \\
                  a_n & = n
            \end{align*}
            公差为1，所以
            \begin{align*}
                  \sum\limits_{i = 1}^n i = \frac{n(a_1 + a_n)}{2} = \frac{n(1 + n)}{2}
            \end{align*}

      \item (1.2) $\sum\limits_{i = 1}^n i^2$。

            证明的方式比较多，这里使用恒等式
            \begin{align*}
                  (n + 1)^3 - n^3 = 3n^2 + 3n + 1
            \end{align*}
            来证明。

            于是$n \geq 2$，我们有
            \begin{align*}
                  (n + 1)^3 - n^3 & = 3n^2 + 3n + 1           \\
                  n^3 - (n - 1)^3 & = 3(n-1)^2 + 3(n - 1) + 1 \\
                                  & \vdots                    \\
                  2^3 - 1^3       & = 3(1)^2 + 3(1) + 1
            \end{align*}
            所有等式相加，我们有
            \begin{align*}
                  (n + 1)^3 - 1^3 & = 3(1^2 + 2^2 + \cdots + n^2) + 3(1 + 2 + \cdots + n) + n  \\
                  n^3 + 3n^2 + 3n & = 3S_n + 3 \frac{n(n + 1)}{2} + n                          \\
                  S_n             & = \frac{1}{3}n^3 + n^2 + \frac{2}{3}n - \frac{n(n + 1)}{2} \\
                                  & = \frac{2n^3 + 3n^2 + n}{6}                                \\
                                  & = \frac{n(n + 1)(2n + 1)}{6}
            \end{align*}

      \item (1.3) $\sum\limits_{i = 1}^n (i + 1)(i + 2)$。

            因为，我们有
            \begin{align*}
                  (i + 1)(i + 2) = i^2 + 3i + 2
            \end{align*}
            于是
            \begin{align*}
                  \sum\limits_{i = 1}^n (i + 1)(i + 2)
                   & = \sum\limits_{i = 1}^n i^2 + \sum\limits_{i = 1}^n 3i + \sum\limits_{i = 1}^n 2 \\
                   & = \frac{n(n + 1)(2n + 1)}{6} + 3\frac{n(n + 1)}{2} + 2n                          \\
            \end{align*}

      \item (2.1)

            如果$n$是偶数，
            \begin{align*}
                  \sum\limits_{i = 1}^n (-1)^i = 1
            \end{align*}
            如果$n$是奇数
            \begin{align*}
                  \sum\limits_{i = 1}^n (-1)^i = -1
            \end{align*}

      \item (2.2)

            如果$n$是偶数，
            \begin{align*}
                  \sum\limits_{i = 1}^n (-1)^i i
                   & = (-1) \times 1 + 1 \times 2 + \cdots + (-1) \times (n - 1) + 1 \times n     \\
                   & = ((-1) \times 1 + 1 \times 2) + \cdots + ((-1) \times (n - 1) + 1 \times n) \\
                   & = 1 + \cdots + 1                                                             \\
                   & = \frac{n}{2}
            \end{align*}
            如果$n$是奇数
            \begin{align*}
                  \sum\limits_{i = 1}^n (-1)^i i
                   & = (-1) \times 1 + 1 \times 2 + \cdots + (-1) \times (n - 2) + 1 \times (n - 1) + (-1) \times n     \\
                   & = ((-1) \times 1 + 1 \times 2) + \cdots + ((-1) \times (n - 2) + 1 \times (n - 1)) + (-1) \times n \\
                   & = 1 + \cdots + 1 - n                                                                               \\
                   & = \frac{n - 1}{2} - n                                                                              \\
                   & = - \frac{n + 1}{2}
            \end{align*}
\end{itemize}

\section*{11}

对$n$进行归纳。

归纳基始，$n = 1$时，等式显然成立。

归纳假设，$n = k$时，等式
\begin{align*}
      \sum\limits_{i = 1}^{k} \frac{1}{i(i + 1)} = 1 - \frac{1}{k + 1}
\end{align*}
成立。

$n = k + 1$时，利用归纳假设，我们有
\begin{align*}
      \sum\limits_{i = 1}^{k + 1} \frac{1}{i(i + 1)}
       & = \left(\sum\limits_{i = 1}^{k} \frac{1}{i(i + 1)}\right) + \frac{1}{(k + 1)(k + 2)} \\
       & = 1 - \frac{1}{k + 1} + \frac{1}{(k + 1)(k + 2)}                                     \\
       & = 1 - \frac{1}{k + 1} + \frac{1}{k + 1} - \frac{1}{k + 2}                            \\
       & = 1 - \frac{1}{k + 2}
\end{align*}
归纳完毕，等式成立。

\section*{12}

\begin{align*}
      (a + b)^n = \sum\limits_{k = 0}^{n} C_n^k a^{n-k}b^k
\end{align*}

\section*{13}

\begin{itemize}
      \item 充分性

            这个是显然的。

      \item 必要性

            已知$K \cup L$是数域，
            反证法，假设$K \subseteq L$和$L \subseteq K$不成立。
            那么，由$K, L$都不是空集，
            于是存在$x \in K$且$x \notin L$，
            同理，存在$y \in L$且$y \notin K$。
            于是，我们有
            \begin{align*}
                  x + y \notin K \\
                  x + y \notin L
            \end{align*}
            因为$x + y \in K$，那么$x + y - x = y \in K$，
            存在矛盾，所以$x + y \notin K$。
            类似地，$x + y \notin L$，
            进而
            \begin{align*}
                  x + y \notin K \cup L
            \end{align*}

            因为$x,y \in K \cup L$，题设有$K \cup L$是数域，
            所以
            \begin{align*}
                  x + y \in K \cup L
            \end{align*}
            存在矛盾，假设不成立，命题得证。
\end{itemize}

\section*{14}

\begin{itemize}
      \item 充分性

            $f$是零变换时，那么
            \begin{align*}
                  f(a + b) = 0            \\
                  f(a) + f(b) = 0 + 0 = 0 \\
                  \implies                \\
                  f(a + b) = f(a) + f(b)
            \end{align*}
            类似地，可得$f(ab) = f(a)f(b) = 0$。

            $f = id_A$时，那么
            \begin{align*}
                  f(a + b) = id_A(a + b) = a + b          \\
                  f(a) + f(b) = id_A(a) + id_A(b) = a + b \\
                  \implies                                \\
                  f(a + b) = f(a) + f(b)
            \end{align*}
            类似地，可得$f(ab) = f(a)f(b) = ab$。

      \item 必要性

            已知，对任意的$a, b \in A$，我们有
            \begin{align*}
                  f(a + b) = f(a) + f(b) \\
                  f(ab) = f(a)f(b)
            \end{align*}
            特别地，令$a = b = 1$，我们有
            \begin{align*}
                  f(ab) = f(a) f(b) \\
                  f(1) = f(1) f(1)  \\
                  \implies          \\
                  f(1) = 1 \ or \ f(1) = 0
            \end{align*}
            又
            \begin{align*}
                  f(0) = f(0)f(0) \\
                  f(0) = f(0) + f(0)
            \end{align*}
            我们有
            \begin{align*}
                  f(0) = 0
            \end{align*}
            (1)如果$f(1) = 0$，则$f$是零变换：
            对任意有理数$\frac{p}{q} \in A$（其中$p, q$都是整数，$q$是正整数），
            我们有
            \begin{align*}
                  f(1 \times \frac{p}{q}) = f(1)  f(\frac{p}{q}) = 0
            \end{align*}

            (2)如果$f(1) = 1$，则$f = id_A$：
            对任意正整数$n$，我们有
            \begin{align*}
                  f(n) & = f(1) + f(1) + \cdots + f(1) \\
                       & = n f(1) = n
            \end{align*}
            通过，$1 = (-1) + 2$，可得
            \begin{align*}
                  f(1)  & = f(-1) + f(2) \\
                  1     & = f(-1) + 2    \\
                  f(-1) & = -1
            \end{align*}
            对任意负整数$-n$，我们有
            \begin{align*}
                  f(-n) = f(-1) f(n) = -n
            \end{align*}
            所以，对任意有理数$\frac{p}{q} \in A$（其中$p, q$都是整数，$q$是正整数，$p,q$互素），
            我们有
            \begin{align*}
                  q \frac{p}{q} = p
            \end{align*}
            于是，利用题设可得
            \begin{align*}
                  f(q \frac{p}{q}) = f(\frac{p}{q}) + \cdots + f(\frac{p}{q}) \\
                  f(p) = q f(\frac{p}{q})                                     \\
                  p = q f(\frac{p}{q})                                        \\
                  f(\frac{p}{q}) = \frac{p}{q}
            \end{align*}
\end{itemize}

\section*{15}

对任意$a \in \mathbb{Q}$，可以表示成一下形式：
\begin{align*}
      a + 0\sqrt{2}
\end{align*}
所以，$a \in \mathbb{Q}(\sqrt{2})$，
由$a$的任意性，我们有
\begin{align*}
      \mathbb{Q} \subseteq \mathbb{Q}(\sqrt{2})
\end{align*}

于是，在有理数的范围下，由习题14可知，
$f = id_{\mathbb{Q}}$或$f$是零变换。

如果$f$满足有理数下的零变换，
那么对任意$\alpha \in \mathbb{Q}(\sqrt{2})$（不妨表示成$\alpha = a + b\sqrt{2}$的形式）
我们有，
\begin{align*}
      f(a + b\sqrt{2})
       & = f(a) + f(b\sqrt{2})    \\
       & = f(a) + f(b)f(\sqrt{2}) \\
       & = 0 + 0f(\sqrt{2})       \\
       & = 0
\end{align*}
属于情况（1）。

如果$f = id_{\mathbb{Q}}$，
因为
\begin{align*}
      2 = \sqrt{2} \sqrt{2}
\end{align*}

于是
\begin{align*}
      f(2)        & = f(\sqrt{2}) f(\sqrt{2}) \\
      2           & = f(\sqrt{2})^2           \\
      f(\sqrt{2}) & = \pm \sqrt{2}
\end{align*}

那么对任意$\alpha \in \mathbb{Q}(\sqrt{2})$，
（不妨表示成$\alpha = a + b\sqrt{2}$的形式），
我们有
\begin{align*}
      f(\alpha) & = f(a + b\sqrt{2})        \\
                & = f(a) + f(b\sqrt{2})     \\
                & = f(a) + f(b) f(\sqrt{2}) \\
                & = a \pm b \sqrt{2}
\end{align*}
属于情况(2)(3)。


\end{document}