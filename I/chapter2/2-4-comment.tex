\documentclass{article}
\usepackage{mathtools} 
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hyperref}


% 定义新的带灰色背景的说明环境 zremark
\newmdtheoremenv[
  backgroundcolor=gray!10,
  % 边框与背景一致，边框线会消失
  linecolor=gray!10
]{zremark}{注释}

% 通用矩阵命令: \flexmatrix{矩阵名}{元素符号}{行数}{列数}
\newcommand{\flexmatrix}[4]{
  \[
  #1 = \begin{pmatrix}
    #2_{11}     & #2_{12}     & \cdots & #2_{1#4}   \\
    #2_{21}     & #2_{22}     & \cdots & #2_{2#4}   \\
    \vdots      & \vdots      & \ddots & \vdots     \\
    #2_{#31}    & #2_{#32}    & \cdots & #2_{#3#4}
  \end{pmatrix}
  \]
}

% 简化版命令（默认矩阵名为A，元素符号为a）: \quickmatrix{行数}{列数}
\newcommand{\quickmatrix}[2]{\flexmatrix{A}{a}{#1}{#2}}


\begin{document}
\title{2.4 注释}
\author{张志聪}
\maketitle

\begin{zremark}
  矩阵乘法的整体理解。
\end{zremark}

设$A \in \mathbb{K}^{m \times n}, B \in \mathbb{K}^{n \times s}, C = AB$。
\begin{itemize}
  \item $C$的列向量角度；

        对于的$C$第$j$个列向量：以$B$的第$j$列元素为系数作$A$的列向量组$\alpha_1, \alpha_2, \cdots, \alpha_n$
        的线性组合所得的$m$维向量。

        \begin{align*}
          \begin{bmatrix}
            c_{1j} \\
            c_{2j} \\
            \vdots \\
            c_{mj}
          \end{bmatrix}
          =
          A \begin{bmatrix}
              b_{1j} \\
              b_{2j} \\
              \vdots \\
              b_{nj}
            \end{bmatrix}
          =
          (\alpha_1, \alpha_2, \cdots, \alpha_n)\begin{bmatrix}
                                                  b_{1j} \\
                                                  b_{2j} \\
                                                  \vdots \\
                                                  b_{nj}
                                                \end{bmatrix}
          = b_{1j} \alpha_1 + b_{2j} \alpha_2 + \cdots + b_{nj} \alpha_n
        \end{align*}

  \item $C$的行向量角度；

        对于的$C$第$i$个行向量：以$A$的第$i$行元素为系数作$B$的行向量组$\beta_1^T, \beta_2^T, \cdots, \beta_n^T$
        的线性组合所得的$s$维向量。

        \begin{align*}
          (c_{i1}, c_{i2}, \cdots, c_{is})                                           \\
           & = (a_{i1}, a_{i2}, \cdots, a_{in}) B                                    \\
           & = (a_{i1}, a_{i2}, \cdots, a_{in}) \begin{bmatrix}
                                                  \beta_{1}^T \\
                                                  \beta_{2}   \\
                                                  \vdots      \\
                                                  \beta_{n}
                                                \end{bmatrix}                       \\
           & = a_{i1} \beta_{1}^T + a_{i2} \beta_{2}^T + \cdots + a_{in} \beta_{n}^T
        \end{align*}

  \item 整体角度；

        如果写
        \begin{align*}
          A & = \begin{bmatrix}
                  \alpha_1 & \alpha_2 & \cdots & \alpha_n
                \end{bmatrix} \\
          B & = \begin{bmatrix}
                  \beta_{1}^T \\
                  \beta_{2}^T \\
                  \vdots      \\
                  \beta_{n}^T
                \end{bmatrix}
        \end{align*}
        那么，
        \begin{align*}
          C = A B = \alpha_1 \beta_{1}^T + \alpha_2 \beta_{2}^T + \cdots + \alpha_n \beta_{n}^T
        \end{align*}

  \item 整体角度（错误）；

        如果写
        \begin{align*}
          A & = \begin{bmatrix}
                  \alpha_1^T \\
                  \alpha_2^T \\
                  \vdots     \\
                  \alpha_n^T
                \end{bmatrix}                       \\
          B & = \begin{bmatrix}
                  \beta_1 & \beta_2 & \cdots & \beta_s
                \end{bmatrix} \\
        \end{align*}
        此时，$\alpha_i^T \beta_i$是标量，所以整体$AB$也是标量，
        所以这种理解方式是错误的。


\end{itemize}

\begin{zremark}
  对某种映射的讨论：

  在数域$K$，对任意$m,n \in \mathbb{N}^+$
  定义映射
  \begin{align*}
     & \theta     :  \{A: A \in M_{m,n}(K)\} \to \{K^n \to K^m \text{的映射}\} \\
     & \theta(A)  = f_A
  \end{align*}
  它是单射、满射？
\end{zremark}

\textbf{证明：}

\begin{itemize}
  \item (1) 是单射;

        对任意$A, B \in M_{m,n}(K)$且$A \neq B$，
        所存在某列$col_j(A) \neq col_j(B)$（$1 \leq j \leq n$）。
        于是取$K^n$中坐标向量
        \begin{align*}
          x_j^T = \begin{bmatrix}
                    0      \\
                    \vdots \\
                    0      \\
                    1      \\
                    0      \\
                    \vdots
                    \\ 0
                  \end{bmatrix}
          \cdots \ \cdots j
        \end{align*}
        此时
        \begin{align*}
          \theta(A)(x_j^T) = f_A(x_j^T) = col_j(A) \\
          \theta(B)(x_j^T) = f_B(x_j^T) = col_j(B) \\
          \implies                                 \\
          \theta(A) \neq \theta(B)
        \end{align*}
        所以，$\theta$是单射。
  \item (2) 不是满射。

        举一个反例，设映射$f: K^n \to K^m $，对任意$x \in K^n$，$f(x) = [1, 1, \cdots, 1]^T$。
        但对任意矩阵$A \in M_{m,n}(K)$，我们有
        \begin{align*}
          \theta(A)(0) = f_A(0) = 0
        \end{align*}
        即：在$\theta$中找不到原像$A$，使得$\theta(A) = f$。
        故不是满射。
\end{itemize}


\begin{zremark}
  命题4.4(ii)的扩展。
  \begin{align*}
    |rank(A) - rank(B)| \leq rank(A + B) \leq rank(A) + rank(B)
  \end{align*}
\end{zremark}

\textbf{证明：}

因为
\begin{align*}
  A = A + B - B
\end{align*}

通过(ii)，我们有
\begin{align*}
  rank(A)           & \leq rank(A + B) + rank(-B) \\
                    & = rank(A + B) + rank(B)     \\
                    & \implies                    \\
  rank(A) - rank(B) & \leq rank(A + B)
\end{align*}

同理，我们有
\begin{align*}
  rank(B) - rank(A) \leq rank(A + B)
\end{align*}

综上
\begin{align*}
  |rank(A) - rank(B)| \leq rank(A + B)
\end{align*}
结合已知的(ii)，我们有
\begin{align*}
  |rank(A) - rank(B)| \leq rank(A + B) \leq rank(A) + rank(B)
\end{align*}

\begin{zremark}
  由习题9,10,11，我们得到一个以下命题：

  在数域$K$中，有$A \in M_{m,n}(K), B \in M_{n,s}(K)$，
  $AB = 0 (B \neq 0)$当且仅当$rank(A) < n$。
\end{zremark}

\textbf{证明：}

\begin{itemize}
  \item 必要性

        假设$rank(A) = n$，于是$A x = 0$只有零解，
        与题设$A B = 0 (B \neq 0)$矛盾。

  \item 充分性

        已知$rank(A) < n$，于是线性方程组$Ax = 0$有非零解，
        且基础解系中向量个数为大于等于$1$，通过基础解系构造矩阵$B$，
        得到$AB = 0 (B \neq 0)$。
\end{itemize}

\begin{zremark}
  把线性无关的向量组，作为基础解系，找方程组。

  习题13，习题14
\end{zremark}

\begin{zremark}
  命题4.6第二种解法。

  习题15
\end{zremark}

\end{document}