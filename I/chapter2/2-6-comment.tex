\documentclass{article}
\usepackage{mathtools} 
\usepackage{fontspec}
\usepackage[UTF8]{ctex}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{hyperref}


% 定义新的带灰色背景的说明环境 zremark
\newmdtheoremenv[
  backgroundcolor=gray!10,
  % 边框与背景一致，边框线会消失
  linecolor=gray!10
]{zremark}{注释}

% 通用矩阵命令: \flexmatrix{矩阵名}{元素符号}{行数}{列数}
\newcommand{\flexmatrix}[4]{
  \[
  #1 = \begin{pmatrix}
    #2_{11}     & #2_{12}     & \cdots & #2_{1#4}   \\
    #2_{21}     & #2_{22}     & \cdots & #2_{2#4}   \\
    \vdots      & \vdots      & \ddots & \vdots     \\
    #2_{#31}    & #2_{#32}    & \cdots & #2_{#3#4}
  \end{pmatrix}
  \]
}

% 简化版命令（默认矩阵名为A，元素符号为a）: \quickmatrix{行数}{列数}
\newcommand{\quickmatrix}[2]{\flexmatrix{A}{a}{#1}{#2}}


\begin{document}
\title{2.6 总结}
\author{张志聪}
\maketitle

\begin{zremark}
  打洞技巧：\\
  给定数域$K$上的$n$阶分块矩阵
  \begin{align*}
    M = \begin{bmatrix}
          A & B \\
          C & D
        \end{bmatrix}
  \end{align*}
  其中$A$是$k$阶可逆方阵，通过初等变换得到
  \begin{align*}
    \begin{bmatrix}
      A & 0 \\
      0 & *
    \end{bmatrix}
  \end{align*}
  求初等变换对应的初等矩阵。
\end{zremark}

先考虑数值矩阵的情况，
\begin{align*}
  M = \begin{bmatrix}
        a & b \\
        c & d
      \end{bmatrix}
\end{align*}
通过行变换，第二行加上第一行的$-\frac{c}{a}$倍，把$c$消为0，
\begin{align*}
  \begin{bmatrix}
    1            & 0 \\
    -\frac{c}{a} & 1
  \end{bmatrix}
  \begin{bmatrix}
    a & b \\
    c & d
  \end{bmatrix}
  =
  \begin{bmatrix}
    a & b                \\
    0 & d - \frac{bc}{a}
  \end{bmatrix}
\end{align*}
通过列变换，第二列加上第一列的$-\frac{b}{a}$被，把$b$消为0，
\begin{align*}
  \begin{bmatrix}
    a & b                \\
    0 & d - \frac{bc}{a}
  \end{bmatrix}
  \begin{bmatrix}
    1 & - \frac{b}{a} \\
    0 & 1
  \end{bmatrix}
  = \begin{bmatrix}
      a & 0                \\
      0 & d - \frac{bc}{a}
    \end{bmatrix}
\end{align*}
即
\begin{align*}
  \begin{bmatrix}
    1            & 0 \\
    -\frac{c}{a} & 1
  \end{bmatrix}
  \begin{bmatrix}
    a & b \\
    c & d
  \end{bmatrix}
  \begin{bmatrix}
    1 & - \frac{b}{a} \\
    0 & 1
  \end{bmatrix}
  = \begin{bmatrix}
      a & 0                \\
      0 & d - \frac{bc}{a}
    \end{bmatrix}
\end{align*}
相应的可得
\begin{align*}
  \begin{bmatrix}
    E_k            & 0 \\
    -C A^{-1} & E_{n - k}
  \end{bmatrix}
  \begin{bmatrix}
    A & B \\
    C & D
  \end{bmatrix}
  \begin{bmatrix}
    E_k & - A^{-1}B \\
    0   & E_{n - k}
  \end{bmatrix}
  = \begin{bmatrix}
      A & 0             \\
      0 & D - C A^{-1}B
    \end{bmatrix}
\end{align*}


\end{document}
